from __future__ import annotations

from dataclasses import dataclass
from typing import List

from faker import Faker


faker = Faker("ja_JP")


@dataclass
class InvoiceTestData:
    invoice_number: str
    vendor_name: str
    amount: float
    currency: str
    issue_date: str


def build_invoices(count: int = 3) -> List[InvoiceTestData]:
    invoices: List[InvoiceTestData] = []
    for _ in range(count):
        invoices.append(
            InvoiceTestData(
                invoice_number=faker.bothify(text="INV-####-??"),
                vendor_name=faker.company(),
                amount=round(faker.pyfloat(min_value=10_000, max_value=1_500_000), 2),
                currency="JPY",
                issue_date=faker.date_this_year().isoformat(),
            )
        )
    return invoices

